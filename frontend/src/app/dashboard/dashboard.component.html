<div class="dashboard-container">
  <!-- Navbar -->
  <div class="navbar">
    <h1>@if (role === 'admin'){<span>Admin</span>} Dashboard</h1>
    <button class="logout-btn" (click)="logout()">Logout</button>
  </div>

  <!-- Main Content -->
  <div class="content">
    @if (role === 'admin') {
      <h2 class="section-title">User Management</h2>
      
      <!-- Fetch Users Button -->
      <button class="fetch-btn" (click)="fetchUsers()">Fetch Users</button>

      <!-- User List -->
      @if (users.length > 0) {
        <div class="user-list">
          <table>
            <thead>
              <tr>
                <th>User ID</th>
              </tr>
            </thead>
            <tbody>
              @for (user of users; track user.userID) {
                <li>
                  {{ user.userID }}
                  <button class="delete-btn" (click)="deleteUser(user.userID)">Delete</button>
                </li>
              }
            </tbody>
          </table>
        </div>
      } @else {
        <p class="no-users">No users found.</p>
      }
    } @else {
      <h2>Welcome, User!</h2>
      <p>This section is only for admins.</p>
    }
  </div>

  <!-- Loading Overlay -->
  <div class="loading-overlay" [class.show]="loading">
    <div class="spinner"></div>
  </div>
</div>
